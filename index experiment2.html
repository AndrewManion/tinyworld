<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tiny World</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Courier+Prime&display=swap" rel="stylesheet" />

  <style>
    body {
      font-family: 'Courier Prime', monospace;
      margin: 0;
      height: 100vh;
      width: 100vw;
      background: #fff;
      overflow: hidden;
      cursor: url('assets/title/logo-cursor.png') 16 16, auto; /* camera-style cursor for intro */
    }

    /* Typewriter intro */
    #intro {
      position: fixed;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      background: white;
      z-index: 50;
    }

    #intro-text {
      font-size: 6vw;
      white-space: nowrap;
      overflow: hidden;
      border-right: 3px solid black;
      animation: typing 4s steps(19, end) 1s 1 normal both, blink-caret 0.7s step-end infinite;
    }

    @keyframes typing {
      from { width: 0; }
      to { width: 19ch; } /* stops after the last Thai character */
    }

    @keyframes blink-caret {
      50% { border-color: transparent; }
    }

    /* Main layout like Public Records */
    #main {
      display: none;
      grid-template-columns: 1fr 350px;
      height: 100vh;
      width: 100vw;
      background: white;
      overflow: hidden;
      cursor: none;
    }

    #left {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: flex-start;
      padding: 2rem 3rem;
      position: relative;
    }

    #title {
      font-size: 8vw;
      font-weight: bold;
      line-height: 1;
      text-transform: uppercase;
    }

    #slideshow {
      position: absolute;
      top: 50%;
      left: 45%;
      transform: translate(-50%, -50%);
      width: 45%;
      height: auto;
      border-radius: 6px;
      object-fit: contain;
      transition: opacity 0.2s ease;
    }

    #word {
      position: absolute;
      bottom: 2rem;
      left: 50%;
      transform: translateX(-50%);
      font-size: 1.2rem;
      font-weight: bold;
      text-transform: uppercase;
    }

    /* Right sidebar links */
    #right {
      border-left: 2px solid black;
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 2rem;
      gap: 2rem;
    }

    .menu-item {
      display: flex;
      align-items: center;
      font-weight: bold;
      text-transform: uppercase;
      cursor: pointer;
      transition: opacity 0.3s;
    }

    .menu-item:hover {
      opacity: 0.6;
    }

    .menu-item img {
      width: 100px;
      height: auto;
      object-fit: cover;
      margin-right: 1rem;
      border-radius: 6px;
    }

    /* Custom cursor (black dot) */
    .dot-cursor {
      position: fixed;
      width: 10px;
      height: 10px;
      background: black;
      border-radius: 50%;
      pointer-events: none;
      transform: translate(-50%, -50%);
      z-index: 1000;
    }
  </style>
</head>
<body>
  <!-- Typewriter Intro -->
  <div id="intro">
    <div id="intro-text">ยินดีต้อนรับสู่โลกเล็กๆ</div>
  </div>

  <!-- Main layout -->
  <div id="main" class="grid">
    <div id="left">
      <div id="site-nav"></div>
      <div id="title">TINY WORLD</div>
      <img id="slideshow" src="assets/images/buenosaires.webp" alt="slideshow">
      <div id="word">PEQUEÑO</div>
    </div>

    <div id="right">
      <div class="menu-item" onclick="window.location.href='kophayam.html'">
        <img src="assets/title/kophayam.webp" alt="Ko Phayam">
        <span>KO PHAYAM</span>
      </div>
      <div class="menu-item" onclick="window.location.href='phuket.html'">
        <img src="assets/title/phuket.webp" alt="Phuket">
        <span>PHUKET</span>
      </div>
      <div class="menu-item" onclick="window.location.href='ladakh.html'">
        <img src="assets/title/ladakh.webp" alt="Ladakh">
        <span>LADAKH</span>
      </div>
      <div class="menu-item" onclick="window.location.href='dharamshala.html'">
        <img src="assets/title/dharamshala.webp" alt="Dharamshala">
        <span>DHARAMSHALA</span>
      </div>
      <div class="menu-item" onclick="window.location.href='rishikesh.html'">
        <img src="assets/title/rishikesh.webp" alt="Rishikesh">
        <span>RISHIKESH</span>
      </div>
    </div>
  </div>

  <div class="dot-cursor" id="dot"></div>

  <script>
    // Load header
    fetch("header.html")
      .then(res => res.text())
      .then(html => {
        document.getElementById("site-nav").innerHTML = html;
        document.getElementById("site-nav").style.transform = "scaleX(0.85)";
      });

    // Typewriter intro
    const intro = document.getElementById('intro');
    const main = document.getElementById('main');
    intro.addEventListener('click', () => {
      intro.style.display = 'none';
      main.style.display = 'grid';
      document.body.style.cursor = 'none'; // hide cursor entirely
    });

    // Dot cursor follows mouse
    const dot = document.getElementById('dot');
    document.addEventListener('mousemove', e => {
      dot.style.left = e.clientX + 'px';
      dot.style.top = e.clientY + 'px';
    });

    // Slideshow images and words
    const slides = [
      { src: "assets/images/buenosaires.webp", word: "PEQUEÑO" },
      { src: "assets/images/patagonia.webp", word: "NGUILLEN" },
      { src: "assets/images/mendoza.webp", word: "CHIQUITO" },
      { src: "assets/images/valparaiso.webp", word: "PEQUEÑITO" },
      { src: "assets/images/uk.webp", word: "TINY" },
      { src: "assets/images/flers.webp", word: "PETIT" },
      { src: "assets/images/paris.webp", word: "MINUSCULE" },
      { src: "assets/images/dolomites.webp", word: "PICCOLO" },
      { src: "assets/images/kitzbuhel.webp", word: "WINZIG" }
    ];

    let index = 0;
    const slideshow = document.getElementById("slideshow");
    const word = document.getElementById("word");

    setInterval(() => {
      index = (index + 1) % slides.length;
      slideshow.style.opacity = 0;
      setTimeout(() => {
        slideshow.src = slides[index].src;
        word.textContent = slides[index].word;
        slideshow.style.opacity = 1;
      }, 300);
    }, 4000);
  </script>
</body>
</html>
